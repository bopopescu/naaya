<tal:block tal:replace="structure here/standard_html_header"/>
<span metal:use-macro="here/calendar_template/macros/calendar_page">

<tal:block metal:fill-slot="page_body">
	<tal:block define="	cmonth python:request.get('cmonth', str(here.getCurrentMonth()));
						cyear python:request.get('cyear', str(here.getCurrentYear()));

						next_date python:here.getNextDate(cmonth, cyear);
						prev_date python:here.getPrevDate(cmonth, cyear);
						forw_month python:next_date[0];
						forw_year python:next_date[1];
						back_month python:prev_date[0];
						back_year python:prev_date[1];">

		<a tal:attributes="href string:${here/getArrowURL}cmonth=${back_month}&cyear=${back_year};" title="Previous month" i18n:attributes="title"><img tal:attributes="src string:${here/getEventCalendarURL}/left_arrow" title="Previous month" alt="Previous month" border="0" i18n:attributes="title alt" /></a>
		<h3 id="Event-Title">
			<span tal:omit-tag="" i18n:translate="">Month Events for</span>&nbsp;<span tal:replace="python:here.getMonthName(cmonth)+' '+cyear" />
		</h3>
		<a tal:attributes="href string:${here/getArrowURL}cmonth=${forw_month}&cyear=${forw_year};" title="Next month" i18n:attributes="title"><img tal:attributes="src string:${here/getEventCalendarURL}/right_arrow" title="Next month" alt="Next month" border="0" i18n:attributes="title alt" /></a>

		<table id="Event-Container" cellspacing="0" tal:define="obj_list python:here.getMonthEvents(cmonth, cyear)">
			<tr tal:condition="python:len(obj_list)!=0">
				<th width="2%"></th>
				<th width="50%" i18n:translate="">Object's name</th>
				<th width="24%" i18n:translate="">Start date</th>
				<th i18n:translate="">End date</th>
			</tr>
			<tr tal:condition="python:len(obj_list)==0">
				<td id="Event-None" i18n:translate="">No events this month</td>
			</tr>
			<tr tal:condition="python:len(obj_list)!=0" tal:repeat="obj obj_list">
				<td><img tal:attributes="src python:obj[0].icon; title python:obj[0].meta_type; alt python:obj[0].meta_type;" /></td>
				<td><a tal:attributes="href python:obj[0].absolute_url(0); title python:obj[0].title_or_id();" tal:content="python:obj[0].title_or_id()"></a></td>
				<td tal:content="python:obj[1]"></td>
				<td tal:content="python:obj[2]"></td>
			</tr>
		</table>

	</tal:block>
</tal:block>

</span>
<tal:block tal:replace="structure here/standard_html_footer"/>